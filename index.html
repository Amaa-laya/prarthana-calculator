<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NSB Prarthana Savings Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f8ff;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    h1, h2 {
      text-align: center;
    }
    label, select, input, button {
      display: block;
      width: 100%;
      margin: 10px 0;
    }
    .lang-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    .actions {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }
    .actions button {
      flex: 1;
      margin: 5px;
    }
    .result {
      font-size: 1.2em;
      color: green;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="title">NSB Prarthana Savings Calculator</h1>
    <div class="lang-buttons">
      <button onclick="setLanguage('en')">English</button>
      <button onclick="setLanguage('si')">සිංහාල</button>
      <button onclick="setLanguage('ta')">தமிழ்</button>
    </div>

    <label id="amountLabel">Monthly Deposit Amount (LKR):</label>
    <input type="number" id="monthlyAmount" placeholder="e.g. 5000">

    <label id="yearsLabel">Number of Years:</label>
    <input type="number" id="years" placeholder="e.g. 5">

    <label id="interestLabel">Annual Interest Rate (%):</label>
    <input type="number" id="interestRate" placeholder="e.g. 5">

    <div class="actions">
      <button onclick="calculate()" id="calculateBtn">Calculate</button>
      <button onclick="speakInstructions()" id="voiceBtn">🔊 Voice</button>
      <button onclick="saveToBrowser()" id="saveBtn">💾 Save</button>
      <button onclick="printPage()" id="printBtn">🖨️ Print/PDF</button>
    </div>

    <div class="result" id="result"></div>
  </div>

  <script>
    const langData = {
      en: {
        title: "NSB Prarthana Savings Calculator",
        amountLabel: "Monthly Deposit Amount (LKR):",
        yearsLabel: "Number of Years:",
        interestLabel: "Annual Interest Rate (%):",
        calculateBtn: "Calculate",
        voiceBtn: "🔊 Voice",
        saveBtn: "💾 Save",
        printBtn: "🖨️ Print/PDF"
      },
      si: {
        title: "NSB ප්‍රර්තන සන්නා කල්දකාර්",
        amountLabel: "මාසනාම ඕ්‍රිද රසල් (LKR):",
        yearsLabel: "සන්නාස සිරයාලු:",
        interestLabel: "ස්‍රාමප්රය ගැරමුන් (%):",
        calculateBtn: "ගණනය කරන්න",
        voiceBtn: "🔊 ශබ්දය",
        saveBtn: "💾 සුරකින්න",
        printBtn: "🖨️ මුද්‍රණය"
      },
      ta: {
        title: "NSB பிரார்த்தனா சொட்டு சலபெரு கணகுப்பு",
        amountLabel: "மாதமான முடலை செலவை (LKR):",
        yearsLabel: "ஆண்டு வருடகள்:",
        interestLabel: "வருட பிரிவு விதியாஸு (%) :",
        calculateBtn: "கணக்கிடு",
        voiceBtn: "🔊 ஒலி",
        saveBtn: "💾 சேமி",
        printBtn: "🖨️ அச்சிடு"
      }
    };

    function setLanguage(lang) {
      const data = langData[lang];
      document.getElementById('title').innerText = data.title;
      document.getElementById('amountLabel').innerText = data.amountLabel;
      document.getElementById('yearsLabel').innerText = data.yearsLabel;
      document.getElementById('interestLabel').innerText = data.interestLabel;
      document.getElementById('calculateBtn').innerText = data.calculateBtn;
      document.getElementById('voiceBtn').innerText = data.voiceBtn;
      document.getElementById('saveBtn').innerText = data.saveBtn;
      document.getElementById('printBtn').innerText = data.printBtn;
    }

    function calculate() {
      const monthly = parseFloat(document.getElementById('monthlyAmount').value);
      const years = parseFloat(document.getElementById('years').value);
      const rate = parseFloat(document.getElementById('interestRate').value);
      if (isNaN(monthly) || isNaN(years) || isNaN(rate)) {
        alert("Please enter valid numbers");
        return;
      }
      const n = 12;
      const r = rate / 100 / n;
      const months = years * 12;
      const futureValue = monthly * (((Math.pow(1 + r, months)) - 1) / r);
      document.getElementById('result').innerText =
        `Future Savings Value: LKR ${futureValue.toFixed(2)}`;
    }

    function speakInstructions() {
      const msg = new SpeechSynthesisUtterance("Please enter the monthly deposit, number of years, and interest rate. Then press calculate.");
      window.speechSynthesis.speak(msg);
    }

    function saveToBrowser() {
      const data = {
        monthly: document.getElementById('monthlyAmount').value,
        years: document.getElementById('years').value,
        rate: document.getElementById('interestRate').value
      };
      localStorage.setItem("savingsData", JSON.stringify(data));
      alert("Saved to browser storage");
    }

    function loadFromBrowser() {
      const data = JSON.parse(localStorage.getItem("savingsData"));
      if (data) {
        document.getElementById('monthlyAmount').value = data.monthly;
        document.getElementById('years').value = data.years;
        document.getElementById('interestRate').value = data.rate;
      }
    }

    function printPage() {
      window.print();
    }

    window.onload = loadFromBrowser;
  </script>
</body>
</html>
