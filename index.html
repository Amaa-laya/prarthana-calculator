<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NSB Prarthana Savings Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f8ff;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    h1, h2 {
      text-align: center;
    }
    label, select, input, button {
      display: block;
      width: 100%;
      margin: 10px 0;
    }
    .lang-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    .actions {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }
    .actions button {
      flex: 1;
      margin: 5px;
    }
    .result {
      font-size: 1.2em;
      color: green;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="title">NSB Prarthana Savings Calculator</h1>
    <div class="lang-buttons">
      <button onclick="setLanguage('en')">English</button>
      <button onclick="setLanguage('si')">à·ƒà·’à¶‚à·„à·à¶½</button>
      <button onclick="setLanguage('ta')">à®¤à®®à®¿à®´à¯</button>
    </div>

    <label id="amountLabel">Monthly Deposit Amount (LKR):</label>
    <input type="number" id="monthlyAmount" placeholder="e.g. 5000">

    <label id="yearsLabel">Number of Years:</label>
    <input type="number" id="years" placeholder="e.g. 5">

    <label id="interestLabel">Annual Interest Rate (%):</label>
    <input type="number" id="interestRate" placeholder="e.g. 5">

    <div class="actions">
      <button onclick="calculate()" id="calculateBtn">Calculate</button>
      <button onclick="speakInstructions()" id="voiceBtn">ğŸ”Š Voice</button>
      <button onclick="saveToBrowser()" id="saveBtn">ğŸ’¾ Save</button>
      <button onclick="printPage()" id="printBtn">ğŸ–¨ï¸ Print/PDF</button>
    </div>

    <div class="result" id="result"></div>
  </div>

  <script>
    const langData = {
      en: {
        title: "NSB Prarthana Savings Calculator",
        amountLabel: "Monthly Deposit Amount (LKR):",
        yearsLabel: "Number of Years:",
        interestLabel: "Annual Interest Rate (%):",
        calculateBtn: "Calculate",
        voiceBtn: "ğŸ”Š Voice",
        saveBtn: "ğŸ’¾ Save",
        printBtn: "ğŸ–¨ï¸ Print/PDF"
      },
      si: {
        title: "NSB à¶´à·Šâ€à¶»à¶»à·Šà¶­à¶± à·ƒà¶±à·Šà¶±à· à¶šà¶½à·Šà¶¯à¶šà·à¶»à·Š",
        amountLabel: "à¶¸à·à·ƒà¶±à·à¶¸ à¶•à·Šâ€à¶»à·’à¶¯ à¶»à·ƒà¶½à·Š (LKR):",
        yearsLabel: "à·ƒà¶±à·Šà¶±à·à·ƒ à·ƒà·’à¶»à¶ºà·à¶½à·”:",
        interestLabel: "à·ƒà·Šâ€à¶»à·à¶¸à¶´à·Šà¶»à¶º à¶œà·à¶»à¶¸à·”à¶±à·Š (%):",
        calculateBtn: "à¶œà¶«à¶±à¶º à¶šà¶»à¶±à·Šà¶±",
        voiceBtn: "ğŸ”Š à·à¶¶à·Šà¶¯à¶º",
        saveBtn: "ğŸ’¾ à·ƒà·”à¶»à¶šà·’à¶±à·Šà¶±",
        printBtn: "ğŸ–¨ï¸ à¶¸à·”à¶¯à·Šâ€à¶»à¶«à¶º"
      },
      ta: {
        title: "NSB à®ªà®¿à®°à®¾à®°à¯à®¤à¯à®¤à®©à®¾ à®šà¯Šà®Ÿà¯à®Ÿà¯ à®šà®²à®ªà¯†à®°à¯ à®•à®£à®•à¯à®ªà¯à®ªà¯",
        amountLabel: "à®®à®¾à®¤à®®à®¾à®© à®®à¯à®Ÿà®²à¯ˆ à®šà¯†à®²à®µà¯ˆ (LKR):",
        yearsLabel: "à®†à®£à¯à®Ÿà¯ à®µà®°à¯à®Ÿà®•à®³à¯:",
        interestLabel: "à®µà®°à¯à®Ÿ à®ªà®¿à®°à®¿à®µà¯ à®µà®¿à®¤à®¿à®¯à®¾à®¸à¯ (%) :",
        calculateBtn: "à®•à®£à®•à¯à®•à®¿à®Ÿà¯",
        voiceBtn: "ğŸ”Š à®’à®²à®¿",
        saveBtn: "ğŸ’¾ à®šà¯‡à®®à®¿",
        printBtn: "ğŸ–¨ï¸ à®…à®šà¯à®šà®¿à®Ÿà¯"
      }
    };

    function setLanguage(lang) {
      const data = langData[lang];
      document.getElementById('title').innerText = data.title;
      document.getElementById('amountLabel').innerText = data.amountLabel;
      document.getElementById('yearsLabel').innerText = data.yearsLabel;
      document.getElementById('interestLabel').innerText = data.interestLabel;
      document.getElementById('calculateBtn').innerText = data.calculateBtn;
      document.getElementById('voiceBtn').innerText = data.voiceBtn;
      document.getElementById('saveBtn').innerText = data.saveBtn;
      document.getElementById('printBtn').innerText = data.printBtn;
    }

    function calculate() {
      const monthly = parseFloat(document.getElementById('monthlyAmount').value);
      const years = parseFloat(document.getElementById('years').value);
      const rate = parseFloat(document.getElementById('interestRate').value);
      if (isNaN(monthly) || isNaN(years) || isNaN(rate)) {
        alert("Please enter valid numbers");
        return;
      }
      const n = 12;
      const r = rate / 100 / n;
      const months = years * 12;
      const futureValue = monthly * (((Math.pow(1 + r, months)) - 1) / r);
      document.getElementById('result').innerText =
        `Future Savings Value: LKR ${futureValue.toFixed(2)}`;
    }

    function speakInstructions() {
      const msg = new SpeechSynthesisUtterance("Please enter the monthly deposit, number of years, and interest rate. Then press calculate.");
      window.speechSynthesis.speak(msg);
    }

    function saveToBrowser() {
      const data = {
        monthly: document.getElementById('monthlyAmount').value,
        years: document.getElementById('years').value,
        rate: document.getElementById('interestRate').value
      };
      localStorage.setItem("savingsData", JSON.stringify(data));
      alert("Saved to browser storage");
    }

    function loadFromBrowser() {
      const data = JSON.parse(localStorage.getItem("savingsData"));
      if (data) {
        document.getElementById('monthlyAmount').value = data.monthly;
        document.getElementById('years').value = data.years;
        document.getElementById('interestRate').value = data.rate;
      }
    }

    function printPage() {
      window.print();
    }

    window.onload = loadFromBrowser;
  </script>
</body>
</html>
