<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NSB Savings Calculator</title>
<style>
/* === LAYOUT & COLORS === */
:root{--nsb:#f58220;--grey:#e0e0e0}
body{font-family:Arial,Helvetica,sans-serif;margin:0;background:#f5f5f5;display:flex;justify-content:center;align-items:center;min-height:100vh}
.container{background:#fff;padding:28px 26px;border-radius:16px;box-shadow:0 4px 18px rgba(0,0,0,.1);max-width:960px;width:100%}
h2{margin:0 0 22px;text-align:center;color:var(--nsb)}
/* === SIDEBAR === */
.hamburger{position:fixed;top:18px;left:18px;background:#fff;color:var(--nsb);font-size:28px;padding:6px 12px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.15);cursor:pointer;z-index:1100;user-select:none}
.sidebar{position:fixed;left:-260px;top:0;width:260px;height:100%;background:var(--nsb);padding-top:60px;transition:.3s ease;z-index:1000}
.sidebar.open{left:0}
.sidebar a{display:block;padding:16px 24px;color:#fff;text-decoration:none;font-weight:bold}
.sidebar a:hover{background:#e06d0f}
/* === HEADER LANGUAGE === */
.lang{display:flex;justify-content:flex-end;margin-bottom:10px}
.lang select{padding:6px 10px;border-radius:6px;border:1px solid #ccc;font-size:15px}
/* === PRODUCT TABS === */
.tabs{display:flex;justify-content:center;flex-wrap:wrap;margin-bottom:18px}
.tab{background:var(--grey);padding:10px 22px;margin:4px;border-radius:8px;cursor:pointer;white-space:nowrap;user-select:none;transition:.3s}
.tab.active{background:var(--nsb);color:#fff}
/* === INNER CONTENT === */
.tab-content{display:none}
.tab-content.active{display:block}
form{border:2px solid var(--nsb);padding:20px;border-radius:12px}
/* grid */
.form-grid{display:grid;grid-template-columns:1fr 2fr;gap:12px 20px;align-items:center}
.form-grid-full{grid-column:1/-1;text-align:left}
@media(max-width:640px){.form-grid{grid-template-columns:1fr}}
label{font-weight:600}
input,select{width:100%;padding:10px;border:2px solid var(--nsb);border-radius:8px;font-size:15px}
.btns{display:flex;gap:8px;flex-wrap:wrap;margin-top:4px}
button{background:var(--nsb);color:#fff;border:none;border-radius:5px;padding:9px 14px;font-size:15px;font-weight:600;display:inline-flex;align-items:center;gap:6px;cursor:pointer}
button:hover{background:#e06d0f}
.result{margin-top:18px;min-height:60px;font-size:17px;font-weight:bold;color:#1976d2;white-space:pre-wrap}
</style>
</head>
<body>
<span class="hamburger" onclick="toggleSidebar()">‚ò∞</span>
<nav id="side" class="sidebar">
 <a href="#" onclick="setProduct('prarthana');closeSidebar()">Prarthana</a>
 <a href="#" onclick="setProduct('reality');closeSidebar()">Reality</a>
</nav>
<div class="container">
  <div class="lang"><select id="lang" onchange="applyLang()"><option value="en">English</option><option value="si">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω</option><option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option></select></div>
  <h2 id="title">NSB Prarthana Savings Calculator</h2>
  <div class="tabs">
    <div id="tabReqBtn" class="tab active" onclick="showTab('req')">ü™ô <span id="txtReq">Required Deposit</span></div>
    <div id="tabMatBtn" class="tab" onclick="showTab('mat')">üí∞ <span id="txtMat">Maturity Value</span></div>
  </div>
  <!-- Required -->
  <div id="req" class="tab-content active">
    <form id="formReq" onsubmit="event.preventDefault();calcReq()">
      <div class="form-grid">
        <label id="lblOpen" for="open">Opening Date:</label>
        <input id="open" type="date" required>
        <label id="lblPer" for="per">Period:</label>
        <select id="per" required></select>
        <label id="lblMdate" for="mdate">Maturity Date:</label>
        <input id="mdate" type="date" disabled>
        <label id="lblTarget" for="target">Target Amount (LKR):</label>
        <input id="target" type="number" min="0" step="0.01" required>
        <label id="lblRate" for="rate">Interest Rate (%/yr):</label>
        <input id="rate" type="number" min="0" step="0.01" required>
        <div class="form-grid-full btns">
          <button>üßÆ <span id="bCalc1">Calc</span></button>
          <button type="button" onclick="resetAll()">üßπ <span id="bClr1">Clear</span></button>
          <button type="button" onclick="printRes('res1')">üñ®Ô∏è <span id="bPrt1">Print</span></button>
          <button type="button" onclick="mailRes('res1')">üìß <span id="bMail1">Email</span></button>
        </div>
      </div>
    </form>
    <div id="res1" class="result"></div>
  </div>
  <!-- Maturity -->
  <div id="mat" class="tab-content">
    <form id="formMat" onsubmit="event.preventDefault();calcMat()">
      <div class="form-grid">
        <label id="lblOpen2" for="open2">Opening Date:</label>
        <input id="open2" type="date" required>
        <label id="lblPer2" for="per2">Period:</label>
        <select id="per2" required></select>
        <label id="lblMdate2" for="mdate2">Maturity Date:</label>
        <input id="mdate2" type="date" disabled>
        <label id="lblAmt" for="amt">Deposit (LKR):</label>
        <input id="amt" type="number" min="0" step="0.01" required>
        <label id="lblRate2" for="rate2">Interest Rate (%/yr):</label>
        <input id="rate2" type="number" min="0" step="0.01" required>
        <div class="form-grid-full btns">
          <button>üßÆ <span id="bCalc2">Calc</span></button>
          <button type="button" onclick="resetAll()">üßπ <span id="bClr2">Clear</span></button>
          <button type="button" onclick="printRes('res2')">üñ®Ô∏è <span id="bPrt2">Print</span></button>
          <button type="button" onclick="mailRes('res2')">üìß <span id="bMail2">Email</span></button>
        </div>
      </div>
    </form>
    <div id="res2" class="result"></div>
  </div>
</div>
<script>
/* ---------- DATA ---------- */
const Y=[3,5,10,15,20], M=[12,24,36,48,60];
const T={en:{titlePr:'NSB Prarthana Savings Calculator',titleRe:'NSB Reality Savings Calculator',req:'Required Deposit',mat:'Maturity Value',open:'Opening Date:',per:'Period:',matDate:'Maturity Date:',target:'Target Amount (LKR):',deposit:'Deposit Amount (LKR):',install:'Monthly Installment (LKR):',calc:'Calculate',clear:'Clear',print:'Print',email:'Email',yr:'years',mo:'months',resDep:'Deposit today:',resEMI:'Monthly installment:',resMat:'Maturity value:',msg1:'Fill all fields'},si:{titlePr:'NSB ‡∂¥‡∑ä‚Äç‡∂ª‡∑è‡∂ª‡∑ä‡∂Æ‡∂±‡∑è ‡∂â‡∂≠‡∑í‡∂ª‡∑í‡∂ö‡∂ª‡∂´ ‡∂ú‡∂´‡∂ö‡∂∫',titleRe:'NSB ‡∂ª‡∑í‡∂∫‡∑ê‡∂Ω‡∑í‡∂ß‡∑í ‡∂â‡∂≠‡∑í‡∂ª‡∑í‡∂ö‡∂ª‡∂´ ‡∂ú‡∂´‡∂ö‡∂∫',req:'‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ ‡∂≠‡∑ê‡∂±‡∑ä‡∂¥‡∂≠‡∑î',mat:'‡∂¥‡∑í‡∂ª‡∑í‡∂±‡∑ê‡∂∏‡∑ì‡∂∏‡∑ä ‡∑Ä‡∂ß‡∑í‡∂±‡∑è‡∂ö‡∂∏',open:'‡∂Ü‡∂ª‡∂∏‡∑ä‡∂∑‡∂ö ‡∂Ø‡∑í‡∂±‡∂∫:',per:'‡∂ö‡∑è‡∂Ω‡∂∫:',matDate:'‡∂¥‡∑í‡∂ª‡∑í‡∂±‡∑ê‡∂∏‡∑ì‡∂∏‡∑ä ‡∂Ø‡∑í‡∂±‡∂∫:',target:'‡∂Ö‡∂ª‡∂∏‡∑î‡∂´‡∑î ‡∂∏‡∑î‡∂Ø‡∂Ω (‡∂ª‡∑î.):',deposit:'‡∂≠‡∑ê‡∂±‡∑ä‡∂¥‡∂≠‡∑î ‡∂∏‡∑î‡∂Ø‡∂Ω (‡∂ª‡∑î.):',install:'‡∂∏‡∑è‡∑É‡∑í‡∂ö ‡∂≠‡∑ê‡∂±‡∑ä‡∂¥‡∂≠‡∑î (‡∂ª‡∑î.):',calc:'‡∂ú‡∂´‡∂±‡∂∫',clear:'‡∂¥‡∑í‡∂ª‡∑í‡∑É‡∑í‡∂Ø‡∑î',print:'‡∂∏‡∑î‡∂Ø‡∑ä‚Äç‡∂ª‡∂´‡∂∫',email:'‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑î‡∂≠‡∑ä ‡∂≠‡∑ê‡∂¥‡∑ë‡∂Ω',yr:'‡∑Ä‡∑É‡∂ª',mo:'‡∂∏‡∑è‡∑É',resDep:'‡∂Ö‡∂Ø ‡∂≠‡∑ê‡∂±‡∑ä‡∂¥‡∂≠‡∑î:',resEMI:'‡∂∏‡∑è‡∑É‡∑í‡∂ö ‡∂≠‡∑ê‡∂±‡∑ä‡∂¥‡∂≠‡∑î:',resMat:'‡∂Ö‡∑Ä‡∑É‡∑è‡∂± ‡∂∏‡∑î‡∂Ø‡∂Ω:',msg1:'‡∑É‡∑í‡∂∫‡∂Ω‡∑î ‡∂ö‡∑ä‡∑Ç‡∑ö‡∂≠‡∑ä‚Äç‡∂ª ‡∂¥‡∑î‡∂ª‡∑Ä‡∂±‡∑ä‡∂±'},ta:{titlePr:'NSB ‡Æ™‡Æ∞‡Ææ‡Æ§‡Øç‡Æ©‡Ææ ‡Æö‡Øá‡ÆÆ‡Æø‡Æ™‡Øç‡Æ™‡ØÅ',titleRe:'NSB ‡Æ∞‡Æø‡ÆØ‡Ææ‡Æ≤‡Æø‡Æü‡Øç‡Æü‡Æø ‡Æö‡Øá‡ÆÆ‡Æø‡Æ™‡Øç‡Æ™‡ØÅ',req:'‡Æ§‡Øá‡Æµ‡Øà ‡Æµ‡Øà‡Æ™‡Øç‡Æ™‡ØÅ',mat:'‡ÆÆ‡ØÅ‡Æü‡Æø‡Æµ‡ØÅ ‡ÆÆ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡ØÅ',open:'‡Æ§‡Æø‡Æ±‡Æ™‡Øç‡Æ™‡ØÅ ‡Æ§‡Øá‡Æ§‡Æø:',per:'‡Æï‡Ææ‡Æ≤‡ÆÆ‡Øç:',matDate:'‡ÆÆ‡ØÅ‡Æü‡Æø‡Æµ‡ØÅ ‡Æ§‡Øá‡Æ§‡Æø:',target:'‡Æá‡Æ≤‡Æï‡Øç‡Æï‡ØÅ ‡Æ§‡Øä‡Æï‡Øà (LKR):',deposit:'‡Æµ‡Øà‡Æ™‡Øç‡Æ™‡ØÅ ‡Æ§‡Øä‡Æï‡Øà (LKR):',install:'‡ÆÆ‡Ææ‡Æ§ ‡Æµ‡Øà‡Æ™‡Øç‡Æ™‡ØÅ (LKR):',calc:'‡Æï‡Æ£‡Æï‡Øç‡Æï‡Æø‡Æü‡ØÅ',clear:'‡ÆÖ‡Æ¥‡Æø',print:'‡ÆÖ‡Æö‡Øç‡Æö‡ØÅ',email:'‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øç',yr:'‡ÆÜ‡Æ£‡Øç‡Æü‡ØÅ',mo:'‡ÆÆ‡Ææ‡Æ§‡ÆÆ‡Øç',resDep:'‡Æá‡Æ©‡Øç‡Æ±‡ØÅ ‡Æµ‡Øà‡Æ™‡Øç‡Æ™‡ØÅ:',resEMI:'‡ÆÆ‡Ææ‡Æ§ ‡Æö‡Æ®‡Øç‡Æ§‡Ææ:',resMat:'‡ÆÆ‡ØÅ‡Æü‡Æø‡Æµ‡ØÅ ‡Æ§‡Øä‡Æï‡Øà:',msg1:'‡Æé‡Æ≤‡Øç‡Æ≤‡Ææ ‡Æ™‡ØÅ‡Æ≤‡Æô‡Øç‡Æï‡Æ≥‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡Æ®‡Æø‡Æ∞‡Æ™‡Øç‡Æ™‡Æµ‡ØÅ‡ÆÆ‡Øç'}};
/* ---------- STATE ---------- */
let prod='prarthana',tab='req';
/* ---------- HELP ---------- */
const $=id=>document.getElementById(id);
function lang(){return $('lang').value}
function speak(txt){if(!('speechSynthesis'in window)||!txt)return;const u=new SpeechSynthesisUtterance(txt);u.lang=lang()==='si'?'si-LK':lang()==='ta'?'ta-IN':'en-US';speechSynthesis.cancel();speechSynthesis.speak(u)}
/* ---------- UI ---------- */
function toggleSidebar(){ $('side').classList.toggle('open'); }
function closeSidebar(){ $('side').classList.remove('open'); }
function setProduct(p){prod=p;resetAll();applyLang();}
function showTab(t){tab=t;['req','mat'].forEach(id=>$(id).classList.toggle('active',id===t));$('tabReqBtn').classList.toggle('active',t==='req');$('tabMatBtn').classList.toggle('active',t==='mat');applyLang();}
function setOptions(sel,arr,unit){sel.innerHTML='';arr.forEach(v=>{const o=document.createElement('option');o.value=v;o.textContent=`${v} ${unit}`;sel.appendChild(o);});}
function applyLang(){const d=T[lang()]; $('title').textContent=prod==='prarthana'?d.titlePr:d.titleRe; $('txtReq').textContent=d.req; $('txtMat').textContent=d.mat;
 $('lblOpen').textContent=$('lblOpen2').textContent=d.open; $('lblPer').textContent=$('lblPer2').textContent=d.per;
 $('lblMdate').textContent=$('lblMdate2').textContent=d.matDate; $('lblTarget').textContent=d.target;
 $('lblRate').textContent=$('lblRate2').textContent='Interest Rate (%/yr):'; $('lblAmt').textContent=prod==='prarthana'?d.deposit:d.install;
 $('bCalc1').textContent=$('bCalc2').textContent=d.calc;$('bClr1').textContent=$('bClr2').textContent=d.clear;
 $('bPrt1').textContent=$('bPrt2').textContent=d.print;$('bMail1').textContent=$('bMail2').textContent=d.email;
 if(prod==='prarthana'){setOptions($('per'),Y,d.yr);setOptions($('per2'),Y,d.yr);}else{setOptions($('per'),M,d.mo);setOptions($('per2'),M,d.mo);}updateMdates();speakInstructions();}
/* ---------- MATURITY DATES ---------- */
function updateMdates(){const d1=$('open').value,v1=parseInt($('per').value);$('mdate').value=d1&&v1?calcMdate(d1,v1):'';const d2=$('open2').value,v2=parseInt($('per2').value);$('mdate2').value=d2&&v2?calcMdate(d2,v2):'';}
function calcMdate(day,val){const d=new Date(day);prod==='prarthana'?d.setFullYear(d.getFullYear()+val):d.setMonth(d.getMonth()+val);return d.toISOString().split('T')[0];}
['open','per','open2','per2'].forEach(id=>$(id).addEventListener('change',updateMdates));
/* ---------- CALCULATE ---------- */
function calcReq(){const d=T[lang()];const open=$('open').value,per=parseInt($('per').value),rate=parseFloat($('rate').value)/100,target=parseFloat($('target').value);if(!open||!per||!rate&&rate!==0||!target){alert(d.msg1);return;}updateMdates();let res='';if(prod==='prarthana'){const P=target/Math.pow(1+rate,per);res=`${d.target} ${target.toFixed(2)}\n${d.per} ${per} ${d.yr}\n${d.resDep} LKR ${P.toFixed(2)}`;}else{const i=rate/12,n=per;const emi=target*i/(Math.pow(1+i,n)-1);res=`${d.target} ${target.toFixed(2)}\n${d.per} ${per} ${d.mo}\n${d.resEMI} LKR ${emi.toFixed(2)}`;}$('res1').textContent=res;speak(res);}
function calcMat(){const d=T[lang()];const open=$('open2').value,per=parseInt($('per2').value),rate=parseFloat($('rate2').value)/100,amt=parseFloat($('amt').value);if(!open||!per||!rate&&rate!==0||!amt){alert(d.msg1);return;}updateMdates();let res='';if(prod==='prarthana'){const A=amt*Math.pow(1+rate,per);res=`${d.deposit} ${amt.toFixed(2)}\n${d.per} ${per} ${d.yr}\n${d.resMat} LKR ${A.toFixed(2)}`;}else{const i=rate/12,n=per;const A=amt*((Math.pow(1+i,n)-1)/i);res=`${d.install} ${amt.toFixed(2)}\n${d.per} ${per} ${d.mo}\n${d.resMat} LKR ${A.toFixed(2)}`;}$('res2').textContent=res;speak(res);}
/* ---------- UTIL ---------- */
function resetAll(){['formReq','formMat'].forEach(f=>$(f).reset());['res1','res2'].forEach(r=>$(r).textContent='');updateMdates();}
function printRes(id){const c=$(id).textContent||'No result';const w=window.open('','_blank');w.document.write('<pre>'+c+'</pre>');w.print();}
function mailRes(id){const c=$(id).textContent;if(!c)return;window.location=`mailto:?subject=NSB%20Result&body=${encodeURIComponent(c)}`;}
function speakInstructions(){const d=T[lang()];const txt=prod==='prarthana'?d.instruction1:d.instruction2;speak(txt);}
/* ---------- INIT ---------- */
applyLang();
</script>
</body>
</html>

